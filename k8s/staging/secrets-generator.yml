kind: ksops
apiVersion: viaduct.ai/v1
metadata:
  name: ksops-secret-generator
  annotations:
    config.kubernetes.io/function: |
      exec:
        path: ksops
secretFrom:
  - metadata:
      name: cart-api-secrets
      labels:
        app: cart-api
      annotations:
        kustomize.config.k8s.io/needs-hash: "false"
type: Opaque
files:
  - secret.yml=./secrets.yml
